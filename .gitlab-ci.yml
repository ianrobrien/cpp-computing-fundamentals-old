image: gcc

before_script:  
  - apt-get update && apt-get -y install cmake

stages:
  - build
  - test
  - deploy

cmake-build:
  stage: build
  script:
  - mkdir build
  - cd build
  - cmake ../.
  - make
  artifacts:
    paths:
    - build/computing-fundamentals-cpp
    - bin/*
    - test/*

gtest-test:
  stage: test
  dependencies:
    - cmake-build
  script:
  - ./build/computing_fundamentals